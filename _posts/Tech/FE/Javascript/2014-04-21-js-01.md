---
layout: post
title: Javascript基础知识
category: Tech
tags: Javascript
type: FE
---

### Javascript的基本数据类型

Javascript拥有6中基本数据类型:Undefined,Null,Boolean,Number,String,Object.因为js不支持创建自定义的类型,所以所有值只有上面这六种类型之一,可以通过typeof来判断一个值的数据类型.

+ 对没有初始化的变量和未声明的变量使用typeof都会返回Undefined.
+ Null类型的值只有一个即null,null表示一个空的对象指针,所以typeof null会返回Object.
+ NaN不等于其他任何的数包括它本身,所以要判断是否是NaN类型需要使用isNaN()进行.
+ toString()方法可以用于进制转换,比如num.toString(8)表示将num转化为8进制的数.
+ js中==先转换数据类型在进行比较,===不转换直接进行比较.
+ 可以通过for-in循环来进行对象属性的遍历.
+ js中没有函数的重载,所以如果定义的两个或多个函数名字相同,无论参数是否一样,后面定义的函数都会直接覆盖前面定义的函数.

### 基本类型和引用类型

Javascript的5种基本变量类型(保存在栈中)Undefined,Null,Boolean,Number,String都是按值访问的,因为可以操作保存在变量中的实际的值,而相对于对象Object变量来说属于引用类型(保存在堆中),它保存在内存中,js不允许直接访问内存的空间.

+ 定义引用类型后,可以为引用类型变量添加属性,而基本类型不可以.
+ 基本类型的复制结果是相互独立的改变任一个值不会影响另外一个,但是引用类型的复制其实是指向了相同的指针,所以改变其中一个都会影响另外一个的值.
+ js中所有的函数参数都是按值传递,在函数内部定义的变量属于局部变量,函数执行完毕就会被销毁.
+ typeof可以用来检测基本变量类型,但是检测引用类型时使用instanceof,返回true或false.

		对于数组,对象,null等使用typeof判断时都会返回Object类型,所以使用instanceof来进行判断:
		实例 instanceof 类型
		var nu = new Array();
		alert(typeof nu);   //输出Object
		alert(nu instanceof Array); //输出true

+ js中没有块级作用域,因此比如for循环结束后在循环外依然可以引用循环中定义的变量值.
+ js函数中的变量如果没有加var进行定义则变量属于全局的.
+ 定义对象可以通过new Object()来进行定义也可以直接赋值定义(最后一个属性值后面不用添加逗号):

		var person = {
			name : "Nicho";
			age : 29
		}

+ js中可以通过.访问属性值也可以通过["property"](当属性值是词组时可以用这个)来进行访问.

### Array类型

js的数组是动态调整的,同时可以存储不同的类型值.

+ Array的定义有以下几种方法:

		var vin = new Array();  //知道数组大小的话可以添加长度
		var vin = new Array("color", "blue", "sky"); //直接添加内容
		var vin = ["color", "blue", "sky"];

+ 数组的length属性可以设置,所以可以通过length的设置移除数组或者添加新元素.

		var color = ["color", "blue", "sky"];
		color.length = 2;
		alert(color[2]);  //此刻没有定义 Undefined;

+ 在较高级的浏览器中可以使用isArray()来判断类型是否为数组.
+ Array的一些方法:

		var color = new Array("color", "blue", "sky");
		color.push("blue");               //添加新项
		color.pop();                      //移除并返回最后一项
		color.shift();                    //移除并返回第一项
		color.unshift("nannan", "rain");  //在数组的头部添加新项.

		color.reverse();                  //将数组反转
		//将数组按升序进行排序,但是sort函数默认的是字符串,即会将数组所有的值都转变为字符串在进行排序
		color.sort();                     
		color.sort(compare);              //可以自定义一个排序规则,这样就可以满足大部分的数据类型的排序了

		<!-- compare函数 -->
		function compare(value1, value2)
		{
			return value1 - value2;
		}

+ Array中的一些常用操作:
		##convat()方法:没有参数时会将自身复制一份然后拼接到自己后面,若有参数则将参数拼接到自己后面

		var color = new Array("color", "blue", "sky");
		var color2 = color.concat(""color", "blue", "sky"");   //直接拼接值
		var color2 = color.concat("color", ["color", "blue", "sky"]);  //拼接值和数组

		##slice(start, end)方法:返回数组从start位置开始到end-1的位置的值生成新的数组
		var color2 = color.slice(1); //表示1到末尾
		var color2 = color.slice(1, 4); //表示1到3

		##splice()方法:
		删除: splice(start, n);  //删除的开始位置和项数
		插入: splice(start, n, arg0, arg1, ...);    //开始位置,要删除的项数,要插入的内容
		替换: splice(start, n, arg0, arg1, ...);    //开始位置,要删除的项数,要插入的内容

		##位置方法:
		indexOf():     //从前往后找
		lastIndexOf(); //从后往前找

		##...

### Date类型(还待补充)

Date类型使用从1970年1月1日零时到当前的毫秒,新定义的Date对象返回的是当前的日期和时间的字符串.
Date常用方法[参考博客](//www.cnblogs.com/jianshao810/archive/2010/09/09/1821861.html):

+ 

		Date() 返回当日的日期和时间。  
		getDate() 从 Date 对象返回一个月中的某一天 (1 ~ 31)。  
		getDay() 从 Date 对象返回一周中的某一天 (0 ~ 6)。  
		getMonth() 从 Date 对象返回月份 (0 ~ 11)。  
		getFullYear() 从 Date 对象以四位数字返回年份。 
		getYear() 请使用 getFullYear() 方法代替。 
		getHours() 返回 Date 对象的小时 (0 ~ 23)。  
		getMinutes() 返回 Date 对象的分钟 (0 ~ 59)。  
		getSeconds() 返回 Date 对象的秒数 (0 ~ 59)。  
		getMilliseconds() 返回 Date 对象的毫秒(0 ~ 999)。  
		getTime() 返回 1970 年 1 月 1 日至今的毫秒数。  
		getTimezoneOffset() 返回本地时间与格林威治标准时间 (GMT) 的分钟差。  
		getUTCDate() 根据世界时从 Date 对象返回月中的一天 (1 ~ 31)。  
		getUTCDay() 根据世界时从 Date 对象返回周中的一天 (0 ~ 6)。  
		getUTCMonth() 根据世界时从 Date 对象返回月份 (0 ~ 11)。  
		getUTCFullYear() 根据世界时从 Date 对象返回四位数的年份。  
		getUTCHours() 根据世界时返回 Date 对象的小时 (0 ~ 23)。  
		getUTCMinutes() 根据世界时返回 Date 对象的分钟 (0 ~ 59)。 
		getUTCSeconds() 根据世界时返回 Date 对象的秒钟 (0 ~ 59)。  
		getUTCMilliseconds() 根据世界时返回 Date 对象的毫秒(0 ~ 999)。  
		parse() 返回1970年1月1日午夜到指定日期（字符串）的毫秒数。 
		setDate() 设置 Date 对象中月的某一天 (1 ~ 31)。 
		setMonth() 设置 Date 对象中月份 (0 ~ 11)。  
		setFullYear() 设置 Date 对象中的年份（四位数字）。  
		setYear() 请使用 setFullYear() 方法代替。  
		setHours() 设置 Date 对象中的小时 (0 ~ 23)。  
		setMinutes() 设置 Date 对象中的分钟 (0 ~ 59)。  
		setSeconds() 设置 Date 对象中的秒钟 (0 ~ 59)。  
		setMilliseconds() 设置 Date 对象中的毫秒 (0 ~ 999)。  
		setTime() 以毫秒设置 Date 对象。  
		setUTCDate() 根据世界时设置 Date 对象中月份的一天 (1 ~ 31)。  
		setUTCMonth() 根据世界时设置 Date 对象中的月份 (0 ~ 11)。  
		setUTCFullYear() 根据世界时设置 Date 对象中的年份（四位数字）。  
		setUTCHours() 根据世界时设置 Date 对象中的小时 (0 ~ 23)。  
		setUTCMinutes() 根据世界时设置 Date 对象中的分钟 (0 ~ 59)。  
		setUTCSeconds() 根据世界时设置 Date 对象中的秒钟 (0 ~ 59)。  
		setUTCMilliseconds() 根据世界时设置 Date 对象中的毫秒 (0 ~ 999)。  
		toSource() 返回该对象的源代码。  
		toString() 把 Date 对象转换为字符串。  
		toTimeString() 把 Date 对象的时间部分转换为字符串。  
		toDateString() 把 Date 对象的日期部分转换为字符串。 
		toGMTString() 请使用 toUTCString() 方法代替。 1 3 
		toUTCString() 根据世界时，把 Date 对象转换为字符串。   
		toLocaleString() 根据本地时间格式，把 Date 对象转换为字符串。  
		toLocaleTimeString() 根据本地时间格式，把 Date 对象的时间部分转换为字符串。 
		toLocaleDateString() 根据本地时间格式，把 Date 对象的日期部分转换为字符串。 
		UTC() 根据世界时返回 1997 年 1 月 1 日 到指定日期的毫秒数。 
		valueOf() 返回 Date 对象的原始值。  
		var objDate=new Date([arguments list]);

### Function类型

js中函数属于对象,函数名则是指向函数的指针.

+ 函数的定义:
		
		function sum(num1, num2)            //函数声明
		{
			return num1 + num2;
		}

		var sum = function(num1, num2)      //函数表达式
		{
			return num1 + num2;
		}

+ js函数没有重载,所以如果有多个函数重名的话,最后定义的函数会将之前定义的函数覆盖.
+ 解析器会先读取函数声明,使其在执行任何代码之前可用,但是对于函数表达式则必须等到解析器执行到它所在的代码行才会被执行.
+ 函数内部拥有arguments对象,该对象除了用来存储函数的参数以外,同时还具有一个callee的属性,callee是一个指针,指向拥有arguments这个对象的函数.


### String类型

+ String的常用方法:
		
		var str = "Hello World";

		##charAt(pos)方法:返回位于pos位置的字符.

		##charCodeAt(pos)方法:返回位于pos位置的字符的字符编码.
		alert(str.charCodeAt(1));  //输出101, 因为e的字符编码为101

		##fromCharCode()方法:将字符编码转化为字符
		alert(101);    //e

		##concat(arg0, arg1, ...)方法:链接一个或多个字符串.等同与+.
		var s = str.concat(" he", ".");   //"Hello World he."

		##slice(start, n)方法:截取从位置start开始n个字符;
		##substring(start, n),substr(start, n);   //同上
		
		##indexOf(),lastIndexOf();   //与Array中的方法相同

		##trim()方法:取出字符串中的前后空格,较高的浏览器才支持,所以可以通过下面的方法重写一个
		String.prototype.trim = function()
		{
			var rex = /^\s+(.*?)\s+$/;
			return this.replace(rex, "$1");
		}

### Math对象

+ Math的常用方法:

		##min(),max()方法;

		##Math.ceil(): 向上舍入
		##Math.floor(): 向下舍入
		##Math.round(): 四舍五入

		##Math.random(): 0~1的随机数,可以通过一下的方法产生随机数:
		var num = Math.floor(Math.random() * n + 1);  //返回1到n的随机数